<!DOCTYPE html>https://github.com/Troyever/intermediate-microeconomics-demo/blob/main/demo
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>Mini EconGraphs Demo</title>

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro", "Segoe UI", Roboto, sans-serif;
      margin: 0;
      padding: 0;
      background: #f8f8f8;
      color: #333;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: auto;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 40px;
    }

    .section {
      background: white;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }

    .flex {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    .video, .text, .graph {
      flex: 1;
      min-width: 320px;
    }

    iframe {
      width: 100%;
      border: 1px solid #ccc;
      border-radius: 8px;
    }

  </style>
</head>

<body>

<div class="container">
<!--Change title here-->
  <h1>Discrete Supply/Demand</h1>

    <!-- Áî®Êù•Êîæ Desmos ÁöÑÂÆπÂô® -->
    <div id="discrete-sd" style="width: 800px; height: 100%;"></div>
  </div>

  <!-- ÂºïÂÖ• Desmos API -->
  <script src="https://www.desmos.com/api/v1.11/calculator.js?apiKey=cc9b5d3cc1c2436aa4d9d33cf55073ca"></script>

  <!-- ÂàùÂßãÂåñ + Á≤ò JSON -->
  <script>
    const elt = document.getElementById('discrete-sd');
    const calculator = Desmos.GraphingCalculator(elt, {
      expressions: true,
      settingsMenu: false
    });

    // ====== ‰ªéËøôÈáåÂºÄÂßã‰∏çË¶ÅÂä®ÔºåÁ≠â‰ºöÂÑøÂè™Êîπ desmosState Ëøô‰∏ÄÂùó ======
const desmosState = JSON.parse(String.raw`
{
  "version": 11,
  "randomSeed": "18f6a9c9843e5ab87ac8302aa165b450",
  "graph": {
    "viewport": {
      "xmin": -62.07050932205891,
      "ymin": -178.3946904242349,
      "xmax": 201.76227701420902,
      "ymax": 292.73528517620986
    },
    "showGrid": false,
    "squareAxes": false,
    "__v12ViewportLatexStash": {
      "xmin": "-62.07050932205891",
      "xmax": "201.76227701420902",
      "ymin": "-178.3946904242349",
      "ymax": "292.73528517620986"
    }
  },
  "expressions": {
    "list": [
      {
        "type": "text",
        "id": "58",
        "text": "see stata code that converts order books into the tables below"
      },
      {
        "type": "folder",
        "id": "1108",
        "title": "Demand",
        "hidden": true,
        "collapsed": true
      },
      {
        "id": "45",
        "type": "table",
        "folderId": "1108",
        "columns": [
          {
            "values": [
              "0",
              "0",
              "3",
              "3",
              "4",
              "4",
              "7",
              "7",
              "8",
              "8",
              "10",
              "10",
              "14",
              "14"
            ],
            "hidden": true,
            "id": "43",
            "color": "#6042a6",
            "latex": "x_{2}"
          },
          {
            "values": [
              "25",
              "17",
              "17",
              "16",
              "16",
              "15",
              "15",
              "14",
              "14",
              "13",
              "13",
              "12",
              "12",
              "0"
            ],
            "id": "44",
            "color": "#2d70b3",
            "points": false,
            "lines": true,
            "latex": "y_{2}"
          }
        ]
      },
      {
        "type": "text",
        "id": "1106",
        "folderId": "1108",
        "text": "Subsidized demand"
      },
      {
        "type": "expression",
        "id": "1332",
        "folderId": "1108",
        "color": "#388c46",
        "latex": "\\left[\\left(0,25\\right),\\left(0,17\\right)\\right]",
        "lines": true
      },
      {
        "type": "expression",
        "id": "33",
        "folderId": "1108",
        "color": "#2d70b3",
        "latex": "\\left(14,3\\right)",
        "showLabel": true,
        "label": "Demand",
        "hidden": true,
        "labelOrientation": "right"
      },
      {
        "type": "folder",
        "id": "1109",
        "title": "Subsidized Demand",
        "hidden": true,
        "collapsed": true
      },
      {
        "id": "50",
        "type": "table",
        "folderId": "1109",
        "columns": [
          {
            "values": [
              "0",
              "0",
              "3",
              "3",
              "4",
              "4",
              "7",
              "7",
              "8",
              "8",
              "10",
              "10",
              "14",
              "14"
            ],
            "hidden": true,
            "id": "48",
            "color": "#388c46",
            "latex": "x_{3}"
          },
          {
            "values": [
              "35",
              "27",
              "27",
              "26",
              "26",
              "25",
              "25",
              "24",
              "24",
              "23",
              "23",
              "22",
              "22",
              "0"
            ],
            "id": "49",
            "color": "#2d70b3",
            "points": false,
            "lines": true,
            "lineStyle": "DASHED",
            "latex": "y_{3}"
          }
        ]
      },
      {
        "type": "expression",
        "id": "52",
        "folderId": "1109",
        "color": "#2d70b3",
        "latex": "\\left(7,27\\right)",
        "showLabel": true,
        "label": "Subsidized Demand",
        "hidden": true,
        "labelOrientation": "right"
      },
      {
        "type": "folder",
        "id": "1101",
        "title": "Supply",
        "hidden": true,
        "collapsed": true
      },
      {
        "type": "expression",
        "id": "32",
        "folderId": "1101",
        "color": "#fa7e19",
        "latex": "\\left(15,25\\right)",
        "showLabel": true,
        "label": "Supply",
        "hidden": true,
        "labelOrientation": "right"
      },
      {
        "id": "41",
        "type": "table",
        "folderId": "1101",
        "columns": [
          {
            "values": [
              "0",
              "0",
              "1",
              "1",
              "2",
              "2",
              "4",
              "4",
              "5",
              "5",
              "6",
              "6",
              "9",
              "9",
              "13",
              "13",
              "15",
              "15"
            ],
            "hidden": true,
            "id": "39",
            "color": "#c74440",
            "latex": "x_{1}"
          },
          {
            "values": [
              "0",
              "4",
              "4",
              "5",
              "5",
              "6",
              "6",
              "7",
              "7",
              "8",
              "8",
              "9",
              "9",
              "10",
              "10",
              "11",
              "11",
              "25"
            ],
            "id": "40",
            "color": "#fa7e19",
            "points": false,
            "lines": true,
            "latex": "y_{1}"
          }
        ]
      },
      {
        "type": "text",
        "id": "1335",
        "text": "Illustration of how n (number of bids and asks) affects the demand and supply curves (turn off folder on line 2, 7 and 10)"
      },
      {
        "type": "expression",
        "id": "1346",
        "color": "#388c46",
        "latex": "n=75",
        "hidden": true,
        "slider": {
          "hardMin": true,
          "hardMax": true,
          "min": "1",
          "max": "75",
          "step": "1"
        }
      },
      {
        "type": "folder",
        "id": "1337",
        "title": "Bids and Ask for variable sample size",
        "hidden": true,
        "collapsed": true
      },
      {
        "type": "expression",
        "id": "1347",
        "folderId": "1337",
        "color": "#6042a6",
        "latex": "Q_{maxDemand}=100",
        "hidden": true,
        "slider": {
          "hardMin": true,
          "hardMax": true,
          "min": "0",
          "max": "200"
        }
      },
      {
        "type": "expression",
        "id": "1366",
        "folderId": "1337",
        "color": "#6042a6",
        "latex": "Q_{maxSupply}=100",
        "hidden": true,
        "slider": {
          "hardMin": true,
          "hardMax": true,
          "min": "0",
          "max": "200"
        }
      },
      {
        "type": "text",
        "id": "1341",
        "folderId": "1337",
        "text": "Random lists of bids and ask"
      },
      {
        "type": "expression",
        "id": "1342",
        "folderId": "1337",
        "color": "#6042a6",
        "latex": "P_{ask}=\\left[20.00,20.58,21.16,21.78,22.40,24.26,24.92,25.58,25.58,25.58,25.58,25.58,25.58,26.23,26.89,31.00,31.68,32.36,33.05,33.73,34.42,35.10,35.80,40.66,41.36,42.07,42.07,42.07,42.07,42.07,42.07,42.77,43.48,46.32,47.04,47.75,48.47,49.18,49.90,50.62,51.35,51.35,51.35,51.35,51.35,51.35,51.35,51.35,51.35,51.35,51.35,52.06,54.22,60.74,61.48,62.21,62.95,65.14,65.88,66.61,67.35,68.83,69.56,70.30,73.23,73.97,74.70,75.43,76.17,76.89,77.63,85.72,86.45,87.19,87.93,88.67,89.41,90.14,90.88,91.62,92.36,93.09,93.83,94.57,95.30,96.04,96.78,97.54,99.00\\right]"
      },
      {
        "type": "expression",
        "id": "1343",
        "folderId": "1337",
        "color": "#000000",
        "latex": "P_{bid}=\\left[90.00,89.41,88.74,84.73,84.01,81.33,81.33,81.33,81.33,81.33,81.33,81.33,81.33,81.33,81.33,81.33,81.33,75.21,74.53,73.86,73.12,72.47,71.81,67.16,66.52,65.87,63.95,63.29,62.64,62.02,62.02,62.02,62.02,62.02,62.02,62.02,61.39,60.76,60.13,59.52,58.91,58.28,57.66,55.17,55.17,55.17,55.17,55.17,55.17,54.56,53.93,50.29,48.56,46.87,46.30,45.75,45.20,44.65,42.49,41.96,41.42,37.80,37.30,36.79,36.29,35.80,35.31,34.83,34.34,33.87,33.39,32.92,32.45,31.98,31.52,31.06,30.6,30.14,29.69,29.25,28.79,28.35,21\\right]"
      },
      {
        "type": "expression",
        "id": "1344",
        "folderId": "1337",
        "color": "#c74440",
        "latex": "P_{bid}\\left[1...n\\right]"
      },
      {
        "type": "expression",
        "id": "1345",
        "folderId": "1337",
        "color": "#2d70b3",
        "latex": "D\\left(x\\right)=P_{bid}\\left[\\operatorname{ceil}\\left(x\\cdot\\frac{n}{Q_{maxDemand}}\\right)\\right]\\left\\{0\\le x\\le Q_{maxDemand}\\right\\}"
      },
      {
        "type": "expression",
        "id": "1348",
        "folderId": "1337",
        "color": "#000000",
        "latex": "I=\\left[1...n-1\\right]"
      },
      {
        "type": "expression",
        "id": "1349",
        "folderId": "1337",
        "color": "#c74440",
        "latex": "x_{v}=Q_{maxDemand}\\cdot\\frac{I}{n}"
      },
      {
        "type": "expression",
        "id": "1350",
        "folderId": "1337",
        "color": "#2d70b3",
        "latex": "v_{erticals}=\\operatorname{polygon}\\left(\\left(x_{v},P_{bid}\\left[I\\right]\\right),\\left(x_{v},P_{bid}\\left[I+1\\right]\\right)\\right)"
      },
      {
        "type": "expression",
        "id": "1351",
        "folderId": "1337",
        "color": "#388c46",
        "latex": "K\\left(x\\right)=P_{ask}\\left[\\operatorname{ceil}\\left(x\\cdot\\frac{n}{Q_{maxSupply}}\\right)\\right]\\left\\{0\\le x\\le Q_{maxSupply}\\right\\}"
      },
      {
        "type": "expression",
        "id": "1367",
        "folderId": "1337",
        "color": "#000000",
        "latex": "x_{k}=Q_{maxSupply}\\cdot\\frac{I}{n}"
      },
      {
        "type": "expression",
        "id": "1352",
        "folderId": "1337",
        "color": "#388c46",
        "latex": "v_{erticalS}=\\operatorname{polygon}\\left(\\left(x_{k},P_{ask}\\left[I\\right]\\right),\\left(x_{k},P_{ask}\\left[I+1\\right]\\right)\\right)"
      },
      {
        "type": "expression",
        "id": "1356",
        "folderId": "1337",
        "color": "#2d70b3",
        "latex": "\\operatorname{polygon}\\left(\\left(0,P_{bid}\\left[1\\right]\\right),\\left(0,5000\\right)\\right)"
      },
      {
        "type": "expression",
        "id": "1357",
        "folderId": "1337",
        "color": "#388c46",
        "latex": "\\operatorname{polygon}\\left(\\left(0,P_{ask}\\left[1\\right]\\right),\\left(0,0\\right)\\right)"
      },
      {
        "type": "expression",
        "id": "1358",
        "folderId": "1337",
        "color": "#388c46",
        "latex": "\\operatorname{polygon}\\left(\\left(Q_{maxSupply},P_{ask}\\left[n\\right]\\right),\\left(Q_{maxSupply},5000\\right)\\right)"
      },
      {
        "type": "expression",
        "id": "1359",
        "folderId": "1337",
        "color": "#2d70b3",
        "latex": "\\operatorname{polygon}\\left(\\left(Q_{maxDemand},P_{bid}\\left[n\\right]\\right),\\left(Q_{maxDemand},0\\right)\\right)"
      },
      {
        "type": "folder",
        "id": "1376",
        "title": "Bids and ask for variable sample size (with randomizer)",
        "collapsed": true
      },
      {
        "type": "expression",
        "id": "1377",
        "folderId": "1376",
        "color": "#6042a6",
        "latex": "i=81",
        "slider": {
          "max": "87"
        }
      },
      {
        "type": "expression",
        "id": "1378",
        "folderId": "1376",
        "color": "#000000",
        "latex": "P_{askNotSorted}=100\\cdot\\operatorname{random}\\left(89,5\\right)"
      },
      {
        "type": "expression",
        "id": "1379",
        "folderId": "1376",
        "color": "#c74440",
        "latex": "P_{askSorted}=\\operatorname{sort}\\left(P_{askNotSorted}\\right)"
      },
      {
        "type": "expression",
        "id": "1380",
        "folderId": "1376",
        "color": "#2d70b3",
        "latex": "P_{askR}=P_{askSorted}\\left[1...i\\right]"
      },
      {
        "type": "expression",
        "id": "1381",
        "folderId": "1376",
        "color": "#388c46",
        "latex": "K\\left(x\\right)=P_{askR}\\left[\\operatorname{ceil}\\left(x\\cdot\\frac{n}{Q_{maxSupply}}\\right)\\right]\\left\\{0\\le x\\le Q_{maxSupply}\\right\\}"
      },
      {
        "type": "expression",
        "id": "1383",
        "folderId": "1376",
        "color": "#388c46",
        "latex": "v_{erticalS}=\\operatorname{polygon}\\left(\\left(x_{k},P_{askR}\\left[I\\right]\\right),\\left(x_{k},P_{askR}\\left[I+1\\right]\\right)\\right)"
      },
      {
        "type": "expression",
        "id": "1382",
        "folderId": "1376",
        "color": "#6042a6",
        "latex": "P_{bidNotSorted}=100\\cdot\\operatorname{random}\\left(83,178\\right)"
      },
      {
        "type": "expression",
        "id": "1519",
        "folderId": "1376",
        "color": "#000000",
        "latex": "k=83",
        "hidden": true,
        "slider": {
          "hardMax": true,
          "max": "83",
          "step": "1"
        }
      },
      {
        "type": "expression",
        "id": "1384",
        "folderId": "1376",
        "color": "#c74440",
        "latex": "P_{bidSortedAcending}=\\operatorname{sort}\\left(P_{bidNotSorted}\\right)"
      },
      {
        "type": "expression",
        "id": "1390",
        "folderId": "1376",
        "color": "#2d70b3",
        "latex": "P_{bidR}=P_{bidSortedAcending}\\left[k...1\\right]"
      },
      {
        "type": "expression",
        "id": "1387",
        "folderId": "1376",
        "color": "#6042a6",
        "latex": "r=83",
        "hidden": true
      },
      {
        "type": "expression",
        "id": "1388",
        "folderId": "1376",
        "color": "#2d70b3",
        "latex": "L\\left(x\\right)=P_{bidR}\\left[\\operatorname{ceil}\\left(x\\cdot\\frac{n}{Q_{maxDemand}}\\right)\\right]\\left\\{0\\le x\\le Q_{maxDemand}\\right\\}"
      },
      {
        "type": "expression",
        "id": "1391",
        "folderId": "1376",
        "color": "#2d70b3",
        "latex": "v_{erticals}=\\operatorname{polygon}\\left(\\left(x_{v},P_{bidR}\\left[I\\right]\\right),\\left(x_{v},P_{bidR}\\left[I+1\\right]\\right)\\right)"
      },
      {
        "type": "expression",
        "id": "1400",
        "folderId": "1376",
        "color": "#2d70b3",
        "latex": "\\operatorname{polygon}\\left(\\left(0,P_{bidR}\\left[1\\right]\\right),\\left(0,5000\\right)\\right)"
      },
      {
        "type": "expression",
        "id": "1401",
        "folderId": "1376",
        "color": "#388c46",
        "latex": "\\operatorname{polygon}\\left(\\left(0,P_{askR}\\left[1\\right]\\right),\\left(0,0\\right)\\right)"
      },
      {
        "type": "expression",
        "id": "1402",
        "folderId": "1376",
        "color": "#388c46",
        "latex": "\\operatorname{polygon}\\left(\\left(Q_{maxSupply},P_{askR}\\left[n\\right]\\right),\\left(Q_{maxSupply},5000\\right)\\right)"
      },
      {
        "type": "expression",
        "id": "1403",
        "folderId": "1376",
        "color": "#2d70b3",
        "latex": "\\operatorname{polygon}\\left(\\left(Q_{maxDemand},P_{bidR}\\left[n\\right]\\right),\\left(Q_{maxDemand},0\\right)\\right)"
      },
      {
        "type": "expression",
        "id": "1385",
        "color": "#2d70b3"
      }
    ]
  },
  "includeFunctionParametersInRandomSeed": true,
  "doNotMigrateMovablePointStyle": true
}
`);

calculator.setState(desmosState);

    // ============================================================
  </script>
</body>




  <!-- Upload video -->
  <div class="section video">
    <h2>üé• Video</h2>
    <!-- Links for the video -->
    <iframe 
      src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
      height="315"
      allowfullscreen>
    </iframe>
  </div>

  <!-- text box -->
  <div class="section text">
    <h2>üìò Discrete Supply/Demand</h2>
    <p>
      explainaions hereÔºö
      <br><br>
      ¬∑ 1.
      ¬∑ 2.
      ...
      <br><br>
      
    </p>
  </div>


